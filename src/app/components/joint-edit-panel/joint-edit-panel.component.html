<div id="editJoint">
<!--  JOINT PANEL-->
  <panel-section-collapsible>
    <title-block icon='expand_more' description='' class = "editHeader" (click)="onTitleBlockClick($event)"
      >Edit Joint
      <ng-container *ngIf="isEditingTitle; else jointNameDisplay">
        <input #jointNameInput [(ngModel)]="this.getCurrentJoint().name" (blur)="setJointName(jointNameInput.value)" />
      </ng-container>
      <ng-template #jointNameDisplay>
        {{ this.getCurrentJoint().name }}
      </ng-template>
      <svg xmlns='http://www.w3.org/2000/svg' height='20' viewBox='0 -960 960 960' width='20' class="edit-svg">
        <path
                d='M176.826-174.152h47.5L663.13-614.435l-47.5-47.5-438.804 440.283v47.5Zm629.87-483.044L658.63-805.782l37.218-36.457q22.195-23.196 54.109-22.935 31.913.261 54.108 22.218l44.152 45.152q21.239 21 20.261 50.402-.978 29.402-21.5 49.924l-40.282 40.282Zm-41 41L252.609-102.348H104.783v-148.826L617.63-763.782l148.066 147.586Zm-125.457-21.369-24.609-24.37 47.5 47.5-22.891-23.13Z' />
      </svg>
      <svg width="16" height="19" viewBox="0 0 15 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0833 0V1H14.6667V3H13.75V16C13.75 17.1 12.925 18 11.9167 18H2.75C1.74167 18 0.916667 17.1 0.916667 16V3H0V1H4.58333V0H10.0833ZM2.75 16H11.9167V3H2.75V16ZM4.58333 5H6.41667V14H4.58333V5ZM10.0833 5H8.25V14H10.0833V5Z" fill="#FF5F5F"/>
      </svg>
    </title-block>
    <p>This is where you edit joints. Change things such as the position.</p>
  </panel-section-collapsible>

  <!-- BASIC SETTING DROPDOWN -->
  <collapsible-subsection titleLabel='Basic Settings' [expanded]="graphExpanded['basicBasic']"
                          (opened)="graphExpanded['basicBasic'] = true"
                          (closed)="graphExpanded['basicBasic'] = false">

    <div class="flex-container">
      <dual-input-block [input1Value]="getJointXCoord()"
                        [input2Value]="getJointYCoord()"
                        (input1Change)="setJointXCoord($event)"
                        (input2Change)="setJointYCoord($event)"
                        tooltip="Change the x and y values of the current joint!"
                        label1="X"
                        label2="Y"
        tooltip = "The location of the Joint in X and Y Positions">
        Input X and Y positions
      </dual-input-block>

      <div id="linkComponents">
      <p>Components</p>
      <!--{{this.getLinkComponents()}} -->
      <div id="container">
        <div *ngFor='let joint of getConnectedJoints(); let i = index;'>
          <ng-container *ngIf="getCurrentJoint().name !== joint.name">
           <dual-input-block
                  [input1Value]="101"
                  [input2Value]="202"
                  (input1Change)="changeJointDistance(joint.id, $event)"
                  (input2Change)="changeJointAngle(joint.id, $event)"
                  label1= "Distance to Joint"
                  label2= "Angle to Joint"
                  tooltip = "The distance and angle from Joint {{getCurrentJoint().name}} to {{joint.name}}">
            Joint {{ joint.name }}:
            </dual-input-block>
          </ng-container>
        </div>
      </div>
    </div>

    </div>
  </collapsible-subsection>

  <!-- ADVANCED SETTING DROPDOWN -->
  <collapsible-subsection titleLabel='Advanced Settings' [expanded]="graphExpanded['advancedSettingsBasic']"
                          (opened)="graphExpanded['advancedSettingsBasic'] = true"
                          (closed)="graphExpanded['advancedSettingsBasic'] = false">
    <app-toggle tooltip="This toggle will enable or disable grounding!"
                label="Toggle Ground" [initialValue]="true"
                (valueChanged)="handleToggleGroundChange($event)"></app-toggle>

    <tri-button btn1Text="Weld" btn2Text="Unweld"
                [btn1Disabled]="!getCurrentJoint().canAddWeld() || getCurrentJoint().isWelded"
                [btn2Disabled]="!getCurrentJoint().canAddWeld() || !getCurrentJoint().isWelded"
                [btn1Action]= "weldJoint" [btn2Action]="unweldJoint"
                [joint]=getCurrentJoint() [mechanism]="getMechanism()"></tri-button>
    <tri-button btn1Text="Add Input" btn2Text="Remove Input"
                [btn1Disabled]="!getCurrentJoint().canAddInput() || getCurrentJoint().isInput"
                [btn2Disabled]="!getCurrentJoint().canAddInput() || !getCurrentJoint().isInput"
                [btn1Action]= "makeInput" [btn2Action]="removeInput"
                [joint]=getCurrentJoint() [mechanism]="getMechanism()"></tri-button>
    <tri-button *ngIf="getCurrentJoint().isInput"
                btn1Text="Set Input Counter Clockwise" btn2Text="Set Input Clockwise"
                [btn1Disabled]="!getCurrentJoint().canAddInput() || getCurrentJoint().isInput"
                [btn2Disabled]="!getCurrentJoint().canAddInput() || !getCurrentJoint().isInput"
                [btn1Action]= "makeInputCounterClockwise" [btn2Action]="makeInputClockwise"
                [joint]=getCurrentJoint() [mechanism]="getMechanism()"></tri-button>
  </collapsible-subsection>
</div>
